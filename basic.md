# Basic Evolution

The content in this file explain how the progam works in detail. We can create tasks and sub tasks with reference to the content of this file.

The term **client** in this context refer to the person who is using the system.

As we build this system we will realize that displaying items (item can be book, user or transaction) is a function that is used repeately. Despite, the content displayed differs due to use case, the client can use the same input to navigate the list. This is the definition of the function *display*
> - show all items in a list 
> - items are shown in order (lexical order or time order)
> - each page of the list can display 20 items
> - use *left arrow* and *right arrow* to move back and forward 1 page at a time
> - use *down arrow* and *up arrow* to move back and forward 10 pages at a time
> - *J* and *K* to move back and forward 100 pages at a time

The client can go back by using *esc* key while in any options. 

## System

Upon open the system, the client is prompted with a log in screen. The client can log in by inputing *userID* and *userPassword* (we could let the user log in with username and password, but what if there are 2 clients with the same username and password?). The input is then compared to data in the user database. If the password belong to the ID, it is a valid log in. Else, it's not a valid log in.
<br>

### User mode

After a succesful user log in, the client is prompted with options:
1. View all books
2. Search by title
3. Search by author name
4. borrow book
5. return book
6. View transaction history
<br>

#### User mode: View all books

Upon choosing this option, the client is prompted with a list of books which displayed in title lexical order.
<br>

#### User mode: Search by title

Upon choosing this option, the client is prompted to input *searchTitle*. If the client press *enter* the input, the screen will display all books with matching title.
<br>
<br>

#### User mode: Search by author name

Upon choosing this option, the client is prompted to input *searchTitle*. If the client press *enter* the input, the screen will display all books with matching author name. (As you can see, this is very similiar to search by title)
<br>
<br>


#### User mode: Borrow book
Upon choosing this option the client is prompted to input the ID of the item to make the borrow transaction. When the client submit the ID of the item to borrow, transaction validity is checked. A transaction borrow is valid if the 2 conditions below are met.

> - the client has less than 3 of currently borrowing item
> - the item to borrow is available to be borrowed

When a valid borrow transaction is made, client ID, item ID, transaction type, and timestamp is recorded as a new transaction with a unique ID. When an invalid borrow is made, cancel action and feedback why it's invalid.
<br>
<br>


#### User mode: Return book

Upon choosing this option, a list of the client's currently borrowing item is displayed. This list is sorted by timestamp of borrow. The client can input the ID of borrowed item to make a return transaction. A return is valid if
> - the input matches the ID of the item that the client is currently borrowing

Once a valid transaction is made, the timestamp of return, user ID, item ID and transaction type is recorded as a new transaction with a unique ID. When an invalid return is made, cancel action and feedback why it's invalid.
<br>

#### User mode: view transaction history

Upon choosing this option, the client is prompted with a list of only the client's transaction which displayed in title timestamp order (most current on top).
<br>

### Admin mode:

After a successful admin log in, the client is promppted with options: 
1.  Manage users
2.  Manage books
3.  View transactions
<br>

#### Admin mode: Manage users

When selecting this option, the client is prompted with the following option:
1. View all users
2. Add a user 
3. Edit a user
4. Delete a user
5. Search a user (by name)
<br>
<br>

##### View all user: 

Upon choosing this option, the client is prompted with a list of all user which displayed in ID order.
<br>

#### Add a user:
Upon choosing this option, the client is prompted with 3 input such as username, password and birthday. UserID is generated by the system. After completing all the input, the client and create a user by pressing *Enter*. After a new user is created, it will be store in user database.
<br>

#### Edit a user:
Upon choosing this option, the client can choose a user by inputting userID. If the userID exists the, client is prompted to re-enter the user inforamtion such as username, password and birthday.  If the userID does not exist, the client is promted with an error message.
<br>

#### Delete a user:
Upon choosing this option, the client can delete a user by inputting a userID. If the userID exist, that user will be deleted. If the userID does not exist, the client is promtped with an error message.
<br>
<br>

#### Search a user by name:
Upon choosing this option, the client is prompted to input a username. After the input is entered, a list of matching username is displayed in userID order.
<br>

### Admin mode: Manage books
This option is similair to manage user option. When selecting this option, the client is prompted with the following option:
1. View all books
2. Add a book
3. Edit a book
4. Delete a book
5. Search a book (by title)
<br>

#### view all books
Upon choosing this option, the client is prompted with a list of book which displayed in book title order (the books with same title are order by their ID).
<br>

#### Add a book:
Upon choosing this option, the client is prompted with inputs such as title, author's name, ISBN, and, publish date. bookID and status(default = available) are generated by the system. After completing all the inputs, the client and create a new book by pressing *Enter*. After a new book is created, it will be store in book database.
<br>

#### Edit a book:
Upon choosing this option, the client can choose a book by inputting bookID. If the bookID exists the, client is prompted to re-enter all inforamtion.  If the bookID does not exist, the client is promted with an error message.
<br>

#### Delete a book:
Upon choosing this option, the client can delete a book by inputting a bookID. If the bookID exist, that book will be deleted. If the bookID does not exist, the client is promtped with an error message.
<br>

#### Search a book:
Upon choosing this option, the client is prompted to input a title. After the input is entered, a list of matching title is displayed in bookID order.
<br>
<br>

### Admin mode: View transaction
Upon choosing this option, the client is prompted with transactions made by all user in timestamp order.
<br>